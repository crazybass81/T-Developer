#!/bin/bash
# Pre-commit hook for CLAUDE.md rules checking
# CLAUDE.md ê·œì¹™ ìë™ ì²´í¬ Git Hook

echo "ğŸ” Running CLAUDE.md rules check before commit..."

# Check if check-rules.py exists
if [ ! -f "check-rules.py" ]; then
    echo "âš ï¸ Warning: check-rules.py not found, skipping rules check"
    exit 0
fi

# Run rules check
python3 check-rules.py

# Check exit status
if [ $? -ne 0 ]; then
    echo ""
    echo "âŒ Commit blocked: Rules violations detected!"
    echo "ğŸ’¡ Please fix the violations before committing."
    echo ""
    echo "To bypass this check (NOT RECOMMENDED):"
    echo "  git commit --no-verify"
    echo ""
    exit 1
fi

echo "âœ… Rules check passed, proceeding with commit..."
exit 0