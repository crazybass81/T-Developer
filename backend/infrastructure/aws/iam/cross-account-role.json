{
  "Role": {
    "RoleName": "TDeveloperCrossAccountRole",
    "Description": "Cross-account role for T-Developer services",
    "AssumeRolePolicyDocument": "file://trust-policy.json",
    "MaxSessionDuration": 3600,
    "Path": "/t-developer/",
    "Tags": [
      {
        "Key": "Project",
        "Value": "TDeveloper"
      },
      {
        "Key": "Environment",
        "Value": "All"
      },
      {
        "Key": "ManagedBy",
        "Value": "Terraform"
      }
    ]
  },
  "AttachedPolicies": [
    {
      "PolicyName": "TDeveloperSecretsAccess",
      "PolicyDocument": {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Sid": "SecretsManagerAccess",
            "Effect": "Allow",
            "Action": [
              "secretsmanager:GetSecretValue",
              "secretsmanager:DescribeSecret"
            ],
            "Resource": [
              "arn:aws:secretsmanager:*:*:secret:/t-developer/*"
            ]
          },
          {
            "Sid": "ParameterStoreAccess",
            "Effect": "Allow",
            "Action": [
              "ssm:GetParameter",
              "ssm:GetParameters",
              "ssm:GetParameterHistory",
              "ssm:GetParametersByPath"
            ],
            "Resource": [
              "arn:aws:ssm:*:*:parameter/t-developer/*"
            ]
          },
          {
            "Sid": "KMSDecrypt",
            "Effect": "Allow",
            "Action": [
              "kms:Decrypt",
              "kms:DescribeKey"
            ],
            "Resource": [
              "arn:aws:kms:*:*:key/*"
            ],
            "Condition": {
              "StringLike": {
                "kms:ViaService": [
                  "secretsmanager.*.amazonaws.com",
                  "ssm.*.amazonaws.com"
                ]
              }
            }
          }
        ]
      }
    },
    {
      "PolicyName": "TDeveloperECSAccess",
      "PolicyDocument": {
        "Version": "2012-10-17",
        "Statement": [
          {
            "Sid": "ECSTaskExecution",
            "Effect": "Allow",
            "Action": [
              "ecs:RegisterTaskDefinition",
              "ecs:DeregisterTaskDefinition",
              "ecs:DescribeTaskDefinition",
              "ecs:RunTask",
              "ecs:StopTask",
              "ecs:DescribeTasks",
              "ecs:ListTasks"
            ],
            "Resource": "*"
          },
          {
            "Sid": "ECRAccess",
            "Effect": "Allow",
            "Action": [
              "ecr:GetAuthorizationToken",
              "ecr:BatchCheckLayerAvailability",
              "ecr:GetDownloadUrlForLayer",
              "ecr:BatchGetImage"
            ],
            "Resource": "*"
          }
        ]
      }
    }
  ]
}